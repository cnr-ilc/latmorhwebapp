<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">



    <h:form>
        <p:fieldset legend="Insert your text" style="margin-bottom:20px">
<!--            <h:panelGrid columns="2" cellpadding="5">-->
                <p:inputTextarea onselect="setSelectedText()" rows="6" value="#{searchPanelBean.textInArea}"  style="width: 80%;" >        
                </p:inputTextarea>

                <p:remoteCommand name="setSelectedTextCommand" 
                                 actionListener="#{searchPanelBean.setSelectedText()}"
                                 update="currentSelectedText" />
                Selected Text is: 
                <h:outputText value="#{searchPanelBean.selectedTextInArea}" 
                              id="currentSelectedText" />
                <script src="#{resource['flexibleArea.js']}" />
                <script src="#{resource['jquery-textrange.js']}" />
                <script>
                    function setSelectedText() {
                        var range = $('.ui-inputtextarea').textrange();// general selector
                        alert ('a');
                        setSelectedTextCommand([{name: 'selectedText', value: range.text}]);
                    }
                </script>
<!--                <h:panelGrid columns="1" cellpadding="5">-->
                    <p:outputLabel for ="selection">Do you want to select a non continuous text?</p:outputLabel>
                    <p:selectOneRadio id="selection" value="#{searchPanelBean.discontinuosSelection}">
                        <f:selectItem itemLabel="Yes" itemValue="1" />
                        <f:selectItem itemLabel="No" itemValue="0" />

                    </p:selectOneRadio>
<!--                </h:panelGrid>
            </h:panelGrid>-->
        </p:fieldset>

    </h:form>
</html>

